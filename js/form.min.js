import{showSuccessMessage}from"./modal-message.min.js";const mainForm=document.querySelector(".form"),itemForm=mainForm.querySelectorAll(".form__item"),itemPhone=mainForm.querySelector(".form__item--phone"),itemEmail=mainForm.querySelector(".form__item--email");let userPhoneSaved="",userEmailSaved="";const isStorage=()=>{try{return userPhoneSaved=localStorage.getItem("userPhoneSaved"),userEmailSaved=localStorage.getItem("userEmailSaved"),!0}catch(e){return!1}},resetForm=()=>{itemPhone.value="",itemEmail.value="",mainForm.reset(),itemForm.forEach((e=>{e.classList.remove("form__item--error")}))},fillForm=e=>{isStorage();const r=e["user-phone"],m=e["user-email"];userPhoneSaved&&(r.value=userPhoneSaved),userEmailSaved&&(m.value=userEmailSaved)},isStorageSupport=isStorage(),onFormSubmit=e=>{itemPhone.value?itemEmail.value?(showSuccessMessage(),isStorageSupport&&(localStorage.setItemlocalStorage.setItem("phone",itemPhone.value),localStorage.setItemlocalStorage.setItem("email",itemEmail.value),fillForm(mainForm))):(e.preventDefault(),itemEmail.classList.add("form__item--error")):(e.preventDefault(),itemPhone.classList.add("form__item--error"))},submitListener=()=>mainForm.addEventListener("click",onFormSubmit);export{onFormSubmit,submitListener,mainForm,resetForm,fillForm};