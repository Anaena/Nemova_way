import{resetForm,fillForm}from"./form.min.js";import{onSuccessRemove}from"./modal-message.min.js";const openPopupButtons=document.querySelectorAll(".button--buy"),popup=document.querySelector(".popup"),popupForm=popup.querySelector(".popup__form"),popupClose=popup.querySelector(".popup__close"),onPopupEscKeydown=o=>{isEscEvent(o)&&(o.preventDefault(),resetForm(),onSuccessRemove(),closeModal())},onModalHide=()=>{document.removeEventListener("click",onModalHide)},hideModal=o=>{o.target===popup&&closeModal()},closeModal=()=>{popup.classList.remove("popup--show"),resetForm(),itemForm.forEach((o=>{o.classList.remove("form__item--error")})),popup.removeEventListener("click",hideModal),document.removeEventListener("keydown",onPopupEscKeydown)},openModal=()=>{popup.classList.add("popup--show"),document.addEventListener("click",hideModal),document.addEventListener("keydown",onPopupEscKeydown)};openPopupButtons.forEach((o=>o.addEventListener("click",(()=>{popup.classList.add("popup--show"),document.addEventListener("click",hideModal),document.addEventListener("keydown",onPopupEscKeydown),fillForm()})))),popupClose.addEventListener("click",closeModal);export{onPopupEscKeydown,popupForm};